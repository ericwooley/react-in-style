{"version":3,"file":"react-in-style.js","sources":["react-in-style.js","/source/react-in-style.js"],"names":["global","factory","exports","module","define","amd","ReactInStyle","this","options","setOptions","requestAnimationFrame","inc","func","init","document","unApliedStyles","appliedStyles","initStyleTag","destroy","styleTag","parentNode","removeChild","createElement","id","getElementsByTagName","appendChild","_this","add","reactClass","selector","force","undefined","arguments","log","console","error","prototype","style","Mocha","applyStyles","renderStyles","bind","Object","keys","forEach","styleString","objToCss","innerHTML","f","rootSelector","styles","rootStyle","key","spacer","newKey","unshift","trim","join","react_in_style"],"mappings":"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","sourceRoot":"/source/","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.ReactInStyle = factory()\n}(this, function () { 'use strict';\n\n    /* global console */\n    class ReactInStyle {\n        constructor(options){\n            this.setOptions(options);\n            if(typeof requestAnimationFrame === 'undefined'){\n                this.requestAnimationFrame =  function(inc){return inc();};\n            } else {\n                this.requestAnimationFrame = function(func){\n                    requestAnimationFrame(func);\n                };\n            }\n            this.init();   \n        }\n        requestAnimationFrame(func){\n            if(typeof requestAnimationFrame === 'undefined'){\n                func();\n            } else {\n                requestAnimationFrame(func);\n            }\n        }\n        setOptions(options){\n            options = options || {};\n            this.options = options;\n            this.options.document = options.document || document;\n        }\n        init(){\n           this.unApliedStyles = {};\n            this.appliedStyles = {};\n            this.initStyleTag(); \n        }\n        destroy(){\n            if(this.styleTag.parentNode){\n                this.styleTag.parentNode.removeChild(this.styleTag);\n            }\n            this.init();\n        }\n        initStyleTag(){\n            this.styleTag = document.createElement('style');\n            this.styleTag.id='react-in-style';\n            this.requestAnimationFrame(() => {\n                document.getElementsByTagName('head')[0].appendChild(this.styleTag);\n            });\n        }\n        add(reactClass, selector, force = false){\n            if(this.appliedStyles[selector] && !force) {\n                this.log(()=> console.error('selector ' + selector + ' already has styles applied'));\n            }\n            this.unApliedStyles[selector] = reactClass.prototype.style;\n            // find a way to do this without being in an animationFrame\n            if(typeof Mocha === 'undefined'){ \n                this.applyStyles();\n            } else {\n                this.renderStyles();\n            }\n        }\n\n        applyStyles(){\n            this.requestAnimationFrame(this.renderStyles.bind(this));\n        }\n        renderStyles(){\n            Object.keys(this.unApliedStyles).forEach((selector) => {\n                var style = this.unApliedStyles[selector];\n                delete this.unApliedStyles[selector];\n                this.appliedStyles[selector] = style;\n                var styleString = this.objToCss(style, selector);\n                this.styleTag.innerHTML += styleString + '\\n';\n            });\n        }\n        log(f){\n            if(console){\n                f();\n            }\n        }\n        objToCss(style, rootSelector='', styles = []) {\n            var rootStyle = '';\n            Object.keys(style).forEach((key) => {\n                if(typeof style[key] !== 'object'){\n                    rootStyle += key + ':' + style[key]+'; '; \n                } else {\n                   let spacer = ' ';\n                   if(key[0] === ':'){\n                       spacer = '';\n                   }\n                   \n                   var newKey = rootSelector + spacer + key;\n                   this.objToCss(style[key], newKey, styles);    \n                }\n            });\n            styles.unshift(rootSelector.trim() + '{' + rootStyle.trim() + '}');\n            return styles.join('\\n');\n        }\n    }\n\n    var react_in_style = new ReactInStyle();\n\n    return react_in_style;\n\n}));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.ReactInStyle = factory()\n}(this, function () { 'use strict';\n\n    /* global console */\n    class ReactInStyle {\n        constructor(options){\n            this.setOptions(options);\n            if(typeof requestAnimationFrame === 'undefined'){\n                this.requestAnimationFrame =  function(inc){return inc();};\n            } else {\n                this.requestAnimationFrame = function(func){\n                    requestAnimationFrame(func);\n                };\n            }\n            this.init();   \n        }\n        requestAnimationFrame(func){\n            if(typeof requestAnimationFrame === 'undefined'){\n                func();\n            } else {\n                requestAnimationFrame(func);\n            }\n        }\n        setOptions(options){\n            options = options || {};\n            this.options = options;\n            this.options.document = options.document || document;\n        }\n        init(){\n           this.unApliedStyles = {};\n            this.appliedStyles = {};\n            this.initStyleTag(); \n        }\n        destroy(){\n            if(this.styleTag.parentNode){\n                this.styleTag.parentNode.removeChild(this.styleTag);\n            }\n            this.init();\n        }\n        initStyleTag(){\n            this.styleTag = document.createElement('style');\n            this.styleTag.id='react-in-style';\n            this.requestAnimationFrame(() => {\n                document.getElementsByTagName('head')[0].appendChild(this.styleTag);\n            });\n        }\n        add(reactClass, selector, force = false){\n            if(this.appliedStyles[selector] && !force) {\n                this.log(()=> console.error('selector ' + selector + ' already has styles applied'));\n            }\n            this.unApliedStyles[selector] = reactClass.prototype.style;\n            // find a way to do this without being in an animationFrame\n            if(typeof Mocha === 'undefined'){ \n                this.applyStyles();\n            } else {\n                this.renderStyles();\n            }\n        }\n\n        applyStyles(){\n            this.requestAnimationFrame(this.renderStyles.bind(this));\n        }\n        renderStyles(){\n            Object.keys(this.unApliedStyles).forEach((selector) => {\n                var style = this.unApliedStyles[selector];\n                delete this.unApliedStyles[selector];\n                this.appliedStyles[selector] = style;\n                var styleString = this.objToCss(style, selector);\n                this.styleTag.innerHTML += styleString + '\\n';\n            });\n        }\n        log(f){\n            if(console){\n                f();\n            }\n        }\n        objToCss(style, rootSelector='', styles = []) {\n            var rootStyle = '';\n            Object.keys(style).forEach((key) => {\n                if(typeof style[key] !== 'object'){\n                    rootStyle += key + ':' + style[key]+'; '; \n                } else {\n                   let spacer = ' ';\n                   if(key[0] === ':'){\n                       spacer = '';\n                   }\n                   \n                   var newKey = rootSelector + spacer + key;\n                   this.objToCss(style[key], newKey, styles);    \n                }\n            });\n            styles.unshift(rootSelector.trim() + '{' + rootStyle.trim() + '}');\n            return styles.join('\\n');\n        }\n    }\n\n    var react_in_style = new ReactInStyle();\n\n    return react_in_style;\n\n}));\n"]}