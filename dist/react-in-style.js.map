{"version":3,"sources":["react-in-style.js"],"names":[],"mappings":"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","file":"react-in-style.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('autoprefixer-core')) :\n    typeof define === 'function' && define.amd ? define(['autoprefixer-core'], factory) :\n    global.ReactInStyle = factory(global.autoprefixer)\n}(this, function (autoprefixer) { 'use strict';\n\n    /* global console */\n    let react_in_style__defaultAddOptions = {\n        noWarnings: false,\n        prefix:false,\n        requestAnimationFrame: true\n    };\n    function toKebab(str){\n        str = str.replace(/([A-Z])/g, '-$1').toLowerCase();\n        return str;\n    }\n    class ReactInStyle {\n        constructor(options) {\n            this.setOptions(options);\n            this.init();\n        }\n        requestAnimationFrame(func, doItNow) {\n            if (doItNow || typeof requestAnimationFrame === 'undefined') {\n                func();\n            } else {\n                requestAnimationFrame(func);\n            }\n        }\n        setOptions(options) {\n            options = options || {};\n            this.options = options;\n            this.inBrowser = typeof document !== 'undefined';\n        }\n        init() {\n            this.unApliedStyles = {};\n            this.appliedStyles = {};\n            this.initStyleTag();\n        }\n        destroy() {\n            if (this.styleTag.parentNode) {\n                this.styleTag.parentNode.removeChild(this.styleTag);\n            }\n            this.init();\n        }\n        initStyleTag() {\n            if (this.inBrowser) {\n                this.styleTag = document.createElement('style');\n            } else {\n                // for unit tests\n                this.styleTag = {\n                    innerHTML: ''\n                };\n            }\n            this.styleTag.id = 'react-in-style';\n            this.requestAnimationFrame(() => {\n                if (this.inBrowser) {\n                    document.getElementsByTagName('head')[0].appendChild(this.styleTag);\n                }\n            });\n        }\n        add(reactClass, selector, options = react_in_style__defaultAddOptions) {\n            if (this.appliedStyles[selector] && !options.force) {\n                this.log(() => \n                    console.error(\n                        'selector ' +\n                        selector + \n                        ' already has styles applied'));\n            }\n            this.unApliedStyles[selector] = reactClass.prototype.style;\n            this.renderStyles(options);       \n        }\n        renderStyles(options) {\n            Object.keys(this.unApliedStyles).forEach((selector) => {\n                var style = this.unApliedStyles[selector];\n                delete this.unApliedStyles[selector];\n                this.appliedStyles[selector] = style;\n                var styleString = this.objToCss(style, selector);\n                if(options.prefix){\n                    styleString = autoprefixer.process(styleString).css;\n                }\n                this.requestAnimationFrame(\n                    ()=> this.styleTag.innerHTML += styleString + '\\n',\n                    !options.requestAnimationFrame\n                );\n                \n            });\n        }\n        log(f) {\n            try{\n                if (console) {\n                    f();\n                }    \n            } catch(e){\n                // whelp, we tried;\n            }\n        }\n        objToCss(style, rootSelector = '', styles = []) {\n            var rootStyle = '';\n            Object.keys(style).forEach((key) => {\n                let spacer = ' ',\n                firstLetter = key[0], \n                selector = key;\n\n                if (firstLetter === '&') {\n                    spacer = '';\n                    selector = key.substring(1);\n                } \n                selector = selector.replace(/&/g, rootSelector);\n                if (typeof style[key] !== 'object') {\n                    rootStyle += toKebab(key) + ':' + style[key] + '; ';\n                } else {\n                    if (firstLetter === ':') {\n                        spacer = '';\n                    }\n                    var newKey = rootSelector + spacer + selector;\n                    this.objToCss(style[key], newKey, styles);\n                }\n            });\n            styles.unshift(rootSelector.trim() + '{' + rootStyle.trim() + '}');\n            return styles.join('\\n');\n        }\n    }\n    var react_in_style = new ReactInStyle();\n\n    return react_in_style;\n\n}));\n"],"sourceRoot":"/source/"}