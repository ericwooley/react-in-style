{"version":3,"sources":["react-in-style.js"],"names":[],"mappings":"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","file":"react-in-style.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.ReactInStyle = factory()\n}(this, function () { 'use strict';\n\n    /* global console */\n    class ReactInStyle {\n        constructor(options){\n            options = options || {};\n            this.options = options;\n            this.options.document = options.document || document;\n            this.init();   \n        }\n        init(){\n           this.unApliedStyles = {};\n            this.appliedStyles = {};\n            this.initStyleTag(); \n        }\n        destroy(){\n            if(this.styleTag.parentNode){\n                this.styleTag.parentNode.removeChild(this.styleTag);\n            }\n            this.init();\n        }\n        initStyleTag(){\n            this.styleTag = document.createElement('style');\n            this.styleTag.id='react-in-style';\n            requestAnimationFrame(() => {\n                document.getElementsByTagName('head')[0].appendChild(this.styleTag);\n            });\n        }\n        add(reactClass, selector, force = false){\n            if(this.appliedStyles[selector] && !force) {\n                throw new Error('selector ' + selector + ' already has styles applied');\n            }\n            this.unApliedStyles[selector] = reactClass.prototype.style;\n            // find a way to do this without being in an animationFrame\n            if(typeof Mocha === 'undefined'){ \n                this.applyStyles();\n            } else {\n                this.renderStyles();\n            }\n        }\n\n        applyStyles(){\n            requestAnimationFrame(this.renderStyles.bind(this));\n        }\n        renderStyles(){\n            Object.keys(this.unApliedStyles).forEach((selector) => {\n                var style = this.unApliedStyles[selector];\n                delete this.unApliedStyles[selector];\n                this.appliedStyles[selector] = style;\n                var styleString = this.objToCss(style, selector);\n                this.styleTag.innerHTML += styleString;\n                console.log('computed style ---------------\\n', styleString);\n            });\n        }\n        objToCss(style, rootSelector='', styles = []) {\n            var rootStyle = '';\n            console.log('generating style for ', style, rootSelector);\n            Object.keys(style).forEach((key) => {\n                if(typeof style[key] !== 'object'){\n                    rootStyle += key + ':' + style[key]+'; '; \n                } else {\n                   let spacer = ' ';\n                   if(key[0] === ':'){\n                       spacer = '';\n                   }\n                   console.log(style[key], spacer);\n                   var newKey = rootSelector + spacer + key;\n                   this.objToCss(style[key], newKey, styles);    \n                }\n            });\n            styles.unshift(rootSelector.trim() + '{' + rootStyle.trim() + '}');\n            console.log(rootSelector, styles);\n            console.groupEnd();\n            return styles.join('\\n');\n        }\n    }\n\n    var react_in_style = new ReactInStyle();\n\n    return react_in_style;\n\n}));\n"],"sourceRoot":"/source/"}